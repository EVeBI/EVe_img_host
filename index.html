<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="./namecard.css"/>
        <link href='https://fonts.googleapis.com/css?family=Muli' rel='stylesheet' crossorigin="anonymous">
    </head>
    <body>
        <div class="form-group">
            <span>Name:</span>
            <input id="input_name" type="text" name="name" placeholder="e.g. John Doe" class="form-field" />
        </div>
        <div class="form-group">
            <span>Position:</span>
            <input id="input_position" type="text" name="position" placeholder="e.g. Assistant Director" class="form-field"/>
        </div>
        <div class="form-group">
            <span>Phone:</span>
            <input id="input_number" type="text" name="phone" placeholder="e.g. 9123 4567" class="form-field"/>
        </div>
        <!--<div class="form-group">
            <span>Facebook:</span>
            <input type="text" name="facebook" placeholder="https://www.facebook.com/example/" class="form-field"/>
        </div>
        <div class="form-group">
            <span>Instagram:</span>
            <input type="text" name="instagram" placeholder="https://www.instagram.com/example/" class="form-field"/>
        </div>
        <div class="form-group">
            <span>LinkedIn:</span>
            <input type="text" name="linkedin" placeholder="www.linkedin.com/in/example" class="form-field"/>
        </div>-->
        <div>
            <button class="button-6" id="generate">Generate</button>
            <button class="button-6" id="dl">Download</button>
            <a class="button-6" href="./Outlook Signature Instructions.pdf" target="_blank">Instructions (PDF)</a>
        </div>
        <br /><br />
        <div id="namecard" style="width:551px; height: 170px;">
            <table  cellspacing="0" cellpadding="0" style="border-collapse: collapse; position: relative; border-spacing: 0px; display: block; font-family: 'Muli'">
                <img src="https://tanjoash.github.io/EVe_img_host/email_signature.svg" class="namecard" width="550px; height: auto;"/>
                <tbody style="position: absolute; top: -145px; left: 225px;
                color: white;">
                    <tr>
                        <td style="width: 290px;">
                            <span id="card_name" style="display:block; font-family: Helvetica, sans-serif; font-size: 22px; line-height: 1.1 !important;">
                                Nursarah Sabrina Binti Roslan</span>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 300px;">
                            <span id="card_position" style="display:block; font-size: 13.5px !important; line-height: 1.2 !important;">Assistant Director, Marketing, Communications and Customer Experience</span>
                            <!--<span id="card_position" style="display:block; font-size: 13.5px !important; line-height: 1.2 !important;">Yusi's Personal Assistant</span>-->
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 260px;">
                            <span id="card_number" style="display:block; font-size: 13.5px !important; line-height: 1.2 !important;">+65 9123 4567</span>
                        </td>
                    </tr>
                    <tr style="height: 10px;">
                        <td style="width: 260px;">
                            <span style="display:block; font-size: 13px !important; line-height: 1.4 !important;"></span>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 260px;">
                            <span style="display:block; font-size: 11.5px !important; line-height: 1.2 !important;">EV-Electric (EVe) Charging Pte Ltd</span>
                        </td>
                    </tr>
                    <tr>
                        <td style="width: 260px;">
                            <a href="https://www.eve.com.sg" style="display:block; font-size: 11.5px !important; line-height: 1.2 !important; color: white;">www.eve.com.sg</a>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        
        
        
    </body>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dom-to-image/2.6.0/dom-to-image.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js" integrity="sha512-Qlv6VSKh1gDKGoJbnyA5RMXYcvnpIqhO++MhIM2fStMcGT9i2T//tSwYFlcyoRRDcDZ+TYHpH8azBBCyhpSeqw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        document.getElementById("generate").onclick = function(){
            console.log(document.getElementById("input_name").value)
            document.getElementById("card_name").textContent = document.getElementById("input_name").value
            document.getElementById("card_position").textContent = document.getElementById("input_position").value
            document.getElementById("card_number").textContent = document.getElementById("input_number").value
        }

        document.getElementById("dl").onclick = function(){
            const target = document.getElementById("namecard");
            var scale = 2
            domtoimage.toBlob(target, {
                width: target.clientWidth * scale,
                height: target.clientHeight * scale,
                 style: {
                  transform: 'scale('+scale+')',
                  transformOrigin: 'top left',  
                }})
                .then(function(blob) {
                    window.saveAs(blob, "signature.png")
                })
        }
    </script>
</html>